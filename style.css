/* Fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

/* Theme variables */
:root {
  color-scheme: light dark; /* Opt into system themes */
  --primary-bg: #FFFFFF;
  --secondary-bg: #F7F8FA;
  --text-color: #212529;
  --accent-color: #7C3AED; /* richer purple to match hero card */
  --border-color: #D0D7DE;
  --card-shadow: 0 8px 16px rgba(0,0,0,0.08);
  --input-bg: #FFFFFF;
}

@media (prefers-color-scheme: dark) {
  :root {
    --primary-bg: #0E1117;
    --secondary-bg: #1C2128;
    --text-color: #E6EDF3;
    --accent-color: #A78BFA;
    --border-color: #30363D;
    --card-shadow: 0 8px 24px rgba(0,0,0,0.25);
    --input-bg: #0D1117;
  }
}

/* Base */
body { font-family: 'Inter', sans-serif; color: var(--text-color); }
.stApp { background-color: var(--primary-bg); }

/* Centered welcome */
.idle-container {
  display: flex; justify-content: center; align-items: center;
  width: 100%; height: 72vh;
}
.idle-container .welcome-card { max-width: 650px; text-align: center; margin-bottom: 0; }

/* Sidebar */
[data-testid="stSidebar"] { background-color: var(--secondary-bg); border-right: 1px solid var(--border-color); }
[data-testid="stSidebar"] .stTextInput input {
  background-color: var(--input-bg); color: var(--text-color);
  border: 1px solid var(--border-color); border-radius: 10px; padding: 10px 12px;
}
@media (prefers-color-scheme: dark) {
  [data-testid="stSidebar"] .stTextInput input { background-color: var(--secondary-bg); }
}
/* Optional: widen sidebar */
[data-testid="stSidebar"][aria-expanded="true"] > div:first-child { width: 320px; }
[data-testid="stSidebar"][aria-expanded="false"] > div:first-child { width: 320px; margin-left: -320px; }

/* Buttons */
.stButton > button {
  background-color: var(--accent-color); color: #fff; border-radius: 10px;
  border: none; padding: 10px 24px; font-weight: 600;
  transition: transform .15s ease, filter .15s ease, box-shadow .15s ease;
  box-shadow: var(--card-shadow);
}
.stButton > button:hover { filter: brightness(1.08); transform: translateY(-2px); }
.stButton > button:focus-visible { outline: 2px solid color-mix(in oklab, var(--accent-color) 70%, white); outline-offset: 2px; }

/* Cards and chat messages */
.welcome-card, .stChatMessage {
  background-color: var(--secondary-bg); border-radius: 14px; padding: 24px;
  border: 1px solid var(--border-color); box-shadow: var(--card-shadow); margin-bottom: 20px;
}
.welcome-card h1 {
  font-size: 2.4rem; font-weight: 700; color: var(--accent-color);
  display: flex; align-items: center; justify-content: center; gap: 12px;
}
.welcome-card p { font-size: 1.05rem; color: var(--text-color); opacity: .85; }

/* Chat input shell */
.stChatInput { background-color: var(--primary-bg); border-top: none; }
/* Robust selector for the textarea */
div[data-testid="stChatInput"] textarea,
.stChatInput > div > div > textarea {
  background-color: var(--input-bg);
  color: var(--text-color) !important;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  box-shadow: var(--card-shadow);
  padding: 12px 14px;
}
div[data-testid="stChatInput"] textarea::placeholder { color: color-mix(in oklab, var(--text-color) 55%, transparent); }
